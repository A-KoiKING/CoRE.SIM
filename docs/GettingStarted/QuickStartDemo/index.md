# クイックスタートデモ

!!! info

    現在、[Unityプロジェクトのセットアップ](../SetupUnityProject)のチュートリアルが推奨されています。

以下に、CoRE.SIMシミュレーションのセットアップ手順があります。この手順はUbuntu OSを使用することを前提としています。

### PCの仕様

シミュレーションを正しく実行するために、コンピュータが以下の要件を満たしていることを確認してください：

|必要なPC仕様||
|:--|:--|
|OS|Ubuntu 22.04|
|CPU|4コアと8スレッド以上|
|GPU|GTX 1070以上|
|NVIDIAドライバー（Ubuntu 22）|>=515.43.04|


### ローカルホストの設定

シミュレーションは、CoRE.SIMシミュレーションとROS 2ソフトウェアのトラブルフリーな通信を可能にする適切なネットワーク設定に基づいています。
必要なローカルホスト設定を適用するには、次の行を`~/.bashrc`および`~/.profile`ファイルに追加してください。

```bash
source /opt/ros/humble/setup.bash
export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp
```

## デモの開始

### CoRE.SIMシミュレーションデモの実行

シミュレータを実行するには、以下の手順に従ってください。

1. NVIDIA GPUドライバーをインストールします（すでにインストールされている場合はスキップ）。
   1. 推奨されるバージョンのドライバーをインストールします。
   ```
   sudo apt update
   sudo ubuntu-drivers autoinstall
   ```
   2. インストールされたドライバーがシステムに検出されるように、マシンを再起動します。
   ```
   sudo reboot
   ```
   3. ターミナルを開いて、`nvidia-smi`コマンドが利用可能で、以下に示すような要約を出力するか確認します。
   ```
   $ nvidia-smi 
   Fri Oct 14 01:41:05 2022       
   +-----------------------------------------------------------------------------+
   | NVIDIA-SMI 515.65.01    Driver Version: 515.65.01    CUDA Version: 11.7     |
   |-------------------------------+----------------------+----------------------+
   | GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
   | Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
   |                               |                      |               MIG M. |
   |===============================+======================+======================|
   |   0  NVIDIA GeForce ...  Off  | 00000000:01:00.0  On |                  N/A |
   | 37%   31C    P8    30W / 250W |    188MiB / 11264MiB |      3%      Default |
   |                               |                      |                  N/A |
   +-------------------------------+----------------------+----------------------+

   +-----------------------------------------------------------------------------+
   | Processes:                                                                  |
   |  GPU   GI   CI        PID   Type   Process name                  GPU Memory |
   |        ID   ID                                                   Usage      |
   |=============================================================================|
   |    0   N/A  N/A      1151      G   /usr/lib/xorg/Xorg                133MiB |
   |    0   N/A  N/A      1470      G   /usr/bin/gnome-shell               45MiB |
   +-----------------------------------------------------------------------------+
   ```

2. Vulkan Graphics Libraryをインストールします（すでにインストールされている場合はスキップ）。
   1. 環境を更新します。
   ```
   sudo apt update
   ```
   2. ライブラリをインストールします。
   ```
   sudo apt install libvulkan1
   ```

3. CoRE.SIMデモバイナリをダウンロードして実行します。

   1. `CoRE.SIM.zip`をダウンロードします。

      [Ubuntu用のCoRE.SIMデモをダウンロード](https://github.com/StrayedCats/CoRE.SIM/releases){.md-button .md-button--primary}
    
   2. ダウンロードしたファイルを解凍します。

   3. `CoRE.SIM.x86_64`ファイルに実行権限を付与します。

      `CoRE.SIM.x86_64`ファイルを右クリックし、`実行`のチェックボックスをオンにします

      または、以下のコマンドを実行します。

      ```
      chmod +x <CoRE.SIMフォルダへのパス>/CoRE.SIM.x86_64
      ```

   4. `CoRE.SIM.x86_64`を起動します。
      ```
      ./<CoRE.SIMフォルダへのパス>/CoRE.SIM.x86_64
      ``` 
        
      !!! 注意
        
          アプリケーションが起動するまでに時間がかかる場合があるので、アプリケーションウィンドウに以下に似た画像が表示されるまでお待ちください。